---
import Layout from '../../layouts/Layout.astro';
import Leaderboard from '../../components/Leaderboard';
import artistsData from '../../data/artists.json';

const { artistId } = Astro.params;

const artist = artistsData.artists.find(a => a.id === artistId);
const artistName = artist?.name || 'Artista';

if (!artist) {
  return Astro.redirect('/');
}
---

<Layout title={`Ranking de ${artistName} - Music Versus`}>
  <main class="min-h-screen relative" style="background-color: #F5E9E4;">
    <!-- Decoraciones -->
    <div class="absolute top-8 left-8 text-5xl opacity-15 select-none pointer-events-none">
      ğŸŒ¿
    </div>
    <div class="absolute top-8 right-8 text-5xl opacity-15 select-none pointer-events-none">
      ğŸ†
    </div>
    
    <div class="container mx-auto px-4 py-8">
      <!-- Header -->
      <div class="mb-8 flex items-center justify-between flex-wrap gap-4">
        <a 
          href="/"
          class="inline-flex items-center px-4 py-2 rounded-full transition-all duration-300 font-medium border-2"
          style="color: #926149; border-color: transparent;"
        >
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
          </svg>
          Volver al inicio
        </a>

        <a 
          href={`/game/${artistId}`}
          class="inline-flex items-center px-6 py-2 rounded-full transition-all duration-300 font-bold border-2 shadow-lg"
          style="backgroundColor: #926149; color: #F5E9E4; borderColor: #926149;"
        >
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          Jugar ahora
        </a>
      </div>

      <!-- Leaderboard Component -->
      <Leaderboard client:load artistId={artistId || ''} artistName={artistName} limit={15} />
    </div>
    
    <!-- Decoraciones inferiores -->
    <div class="absolute bottom-8 left-8 text-5xl opacity-15 select-none pointer-events-none">
      ğŸµ
    </div>
    <div class="absolute bottom-8 right-8 text-5xl opacity-15 select-none pointer-events-none">
      â­
    </div>
  </main>
</Layout>

<style>
  a:hover {
    transform: scale(1.05);
  }
  
  a[href^="/game"]:hover {
    box-shadow: 0 10px 30px rgba(146, 97, 73, 0.3) !important;
  }
</style>